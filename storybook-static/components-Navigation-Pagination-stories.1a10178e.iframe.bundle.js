"use strict";(self.webpackChunkmuidev=self.webpackChunkmuidev||[]).push([[5619],{"./node_modules/@babel/runtime/helpers/esm/objectSpread2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function toPropertyKey(t){var i=function toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}function _defineProperty(e,r,t){return(r=toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread2(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}__webpack_require__.d(__webpack_exports__,{A:()=>_objectSpread2})},"./src/components/Navigation/Pagination.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Colors:()=>Colors,Controlled:()=>Controlled,Default:()=>Default,ManyPages:()=>ManyPages,Minimal:()=>Minimal,Pills:()=>Pills,Responsive:()=>Responsive,Sizes:()=>Sizes,WithFirstLast:()=>WithFirstLast,WithItemsInfo:()=>WithItemsInfo,WithPageSize:()=>WithPageSize,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Pagination_stories});var react=__webpack_require__("./node_modules/react/index.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),proxy=__webpack_require__("./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs"),AnimatePresence=__webpack_require__("./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),index_esm=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["totalItems","itemsPerPage","currentPage","siblingCount","variant","size","color","showFirstLast","showPageSize","pageSizeOptions","showItemsPerPage","className","onPageChange","onPageSizeChange"],Pagination=_ref=>{let{totalItems,itemsPerPage,currentPage=1,siblingCount=1,variant="default",size="medium",color="primary",showFirstLast=!1,showPageSize=!1,pageSizeOptions=[10,25,50,100],showItemsPerPage=!1,className,onPageChange,onPageSizeChange}=_ref,props=(0,objectWithoutProperties.A)(_ref,_excluded);const[pageSize,setPageSize]=(0,react.useState)(itemsPerPage),[activePage,setActivePage]=(0,react.useState)(currentPage);(0,react.useEffect)((()=>{setActivePage(currentPage)}),[currentPage]),(0,react.useEffect)((()=>{setPageSize(itemsPerPage)}),[itemsPerPage]);const totalPages=Math.ceil(totalItems/pageSize),sizes={small:{text:"text-sm",icon:"w-4 h-4",padding:"px-2 py-1",select:"h-8"},medium:{text:"text-base",icon:"w-5 h-5",padding:"px-3 py-1.5",select:"h-10"},large:{text:"text-lg",icon:"w-6 h-6",padding:"px-4 py-2",select:"h-12"}},colors={primary:{text:"text-gray-600",hover:"hover:text-blue-600 hover:bg-blue-50",active:"bg-blue-50 text-blue-600",border:"border-gray-200",focus:"focus:ring-blue-500",disabled:"text-gray-300"},secondary:{text:"text-gray-600",hover:"hover:text-gray-900 hover:bg-gray-100",active:"bg-gray-100 text-gray-900",border:"border-gray-200",focus:"focus:ring-gray-500",disabled:"text-gray-300"},white:{text:"text-gray-500",hover:"hover:text-gray-700 hover:bg-gray-50",active:"bg-white text-gray-700 shadow-sm",border:"border-gray-100",focus:"focus:ring-gray-400",disabled:"text-gray-300"}},variants={default:{container:"inline-flex shadow-sm rounded-md",item:"border-y first:border-l first:rounded-l-md last:border-r last:rounded-r-md"},pills:{container:"inline-flex gap-1",item:"rounded-full border"},minimal:{container:"inline-flex gap-1",item:"rounded-md"}},handlePageChange=page=>{page>=1&&page<=totalPages&&(setActivePage(page),null==onPageChange||onPageChange(page))},PageButton=_ref2=>{let{page,isActive,disabled,children,onClick}=_ref2;return(0,jsx_runtime.jsx)(proxy.P.button,{onClick,disabled,whileHover:disabled?{}:{scale:1.05},whileTap:disabled?{}:{scale:.95},className:"\n        ".concat(sizes[size].padding,"\n        ").concat(sizes[size].text,"\n        ").concat(variants[variant].item,"\n        ").concat(disabled?colors[color].disabled:isActive?colors[color].active:colors[color].text,"\n        ").concat(!disabled&&!isActive&&colors[color].hover,"\n        ").concat(colors[color].border,"\n        transition-all duration-200\n        focus:outline-none focus:ring-2 focus:ring-offset-2 ").concat(colors[color].focus,"\n        disabled:cursor-not-allowed\n        flex items-center justify-center\n        min-w-[2.5em]\n      "),children:children||page})};return(0,jsx_runtime.jsxs)("div",(0,objectSpread2.A)((0,objectSpread2.A)({className:"flex items-center gap-4 ".concat(className||"")},props),{},{children:[(0,jsx_runtime.jsxs)("nav",{className:variants[variant].container,children:[showFirstLast&&(0,jsx_runtime.jsx)(PageButton,{onClick:()=>handlePageChange(1),disabled:1===activePage,children:(0,jsx_runtime.jsx)(index_esm.pM3,{className:sizes[size].icon})}),(0,jsx_runtime.jsx)(PageButton,{onClick:()=>handlePageChange(activePage-1),disabled:1===activePage,children:(0,jsx_runtime.jsx)(index_esm.irw,{className:sizes[size].icon})}),(0,jsx_runtime.jsx)(AnimatePresence.N,{mode:"wait",children:(()=>{if(totalPages<=2*siblingCount+3+2)return Array.from({length:totalPages},((_,i)=>i+1));const leftSiblingIndex=Math.max(activePage-siblingCount,1),rightSiblingIndex=Math.min(activePage+siblingCount,totalPages),shouldShowLeftDots=leftSiblingIndex>2,shouldShowRightDots=rightSiblingIndex<totalPages-2;if(!shouldShowLeftDots&&shouldShowRightDots){const leftItemCount=3+2*siblingCount;return[...Array.from({length:leftItemCount},((_,i)=>i+1)),"...",totalPages]}if(shouldShowLeftDots&&!shouldShowRightDots){const rightItemCount=3+2*siblingCount;return[1,"...",...Array.from({length:rightItemCount},((_,i)=>totalPages-rightItemCount+i+1))]}return[1,"...",...Array.from({length:rightSiblingIndex-leftSiblingIndex+1},((_,i)=>leftSiblingIndex+i)),"...",totalPages]})().map(((page,index)=>(0,jsx_runtime.jsx)(PageButton,{page,isActive:page===activePage,disabled:"..."===page,onClick:()=>"..."!==page&&handlePageChange(page)},index)))}),(0,jsx_runtime.jsx)(PageButton,{onClick:()=>handlePageChange(activePage+1),disabled:activePage===totalPages,children:(0,jsx_runtime.jsx)(index_esm.fOo,{className:sizes[size].icon})}),showFirstLast&&(0,jsx_runtime.jsx)(PageButton,{onClick:()=>handlePageChange(totalPages),disabled:activePage===totalPages,children:(0,jsx_runtime.jsx)(index_esm.wi,{className:sizes[size].icon})})]}),showPageSize&&(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("label",{className:"".concat(sizes[size].text," ").concat(colors[color].text),children:"Items per page:"}),(0,jsx_runtime.jsx)("select",{value:pageSize,onChange:e=>{const newPageSize=Number(e.target.value);setPageSize(newPageSize),null==onPageSizeChange||onPageSizeChange(newPageSize)},className:"\n              ".concat(sizes[size].select,"\n              ").concat(sizes[size].text,"\n              ").concat(colors[color].text,"\n              ").concat(colors[color].border,"\n              rounded-md\n              border\n              bg-white\n              focus:outline-none focus:ring-2 focus:ring-offset-2 ").concat(colors[color].focus,"\n              cursor-pointer\n              px-2\n            "),children:pageSizeOptions.map((option=>(0,jsx_runtime.jsx)("option",{value:option,children:option},option)))})]}),showItemsPerPage&&(0,jsx_runtime.jsx)("div",{className:"".concat(sizes[size].text," ").concat(colors[color].text),children:"".concat(Math.min((activePage-1)*pageSize+1,totalItems),"-").concat(Math.min(activePage*pageSize,totalItems)," of ").concat(totalItems," items")})]}))},Navigation_Pagination=Pagination;Pagination.__docgenInfo={description:"",methods:[],displayName:"Pagination",props:{currentPage:{defaultValue:{value:"1",computed:!1},description:"Current active page",type:{name:"number"},required:!1},siblingCount:{defaultValue:{value:"1",computed:!1},description:"Number of siblings to show on each side of current page",type:{name:"number"},required:!1},variant:{defaultValue:{value:"'default'",computed:!1},description:"Visual style variant",type:{name:"enum",value:[{value:"'default'",computed:!1},{value:"'pills'",computed:!1},{value:"'minimal'",computed:!1}]},required:!1},size:{defaultValue:{value:"'medium'",computed:!1},description:"Size preset",type:{name:"enum",value:[{value:"'small'",computed:!1},{value:"'medium'",computed:!1},{value:"'large'",computed:!1}]},required:!1},color:{defaultValue:{value:"'primary'",computed:!1},description:"Color theme",type:{name:"enum",value:[{value:"'primary'",computed:!1},{value:"'secondary'",computed:!1},{value:"'white'",computed:!1}]},required:!1},showFirstLast:{defaultValue:{value:"false",computed:!1},description:"Whether to show first/last page buttons",type:{name:"bool"},required:!1},showPageSize:{defaultValue:{value:"false",computed:!1},description:"Whether to show page size selector",type:{name:"bool"},required:!1},pageSizeOptions:{defaultValue:{value:"[10, 25, 50, 100]",computed:!1},description:"Available page size options",type:{name:"arrayOf",value:{name:"number"}},required:!1},showItemsPerPage:{defaultValue:{value:"false",computed:!1},description:"Whether to show items per page info",type:{name:"bool"},required:!1},totalItems:{description:"Total number of items",type:{name:"number"},required:!0},itemsPerPage:{description:"Number of items per page",type:{name:"number"},required:!0},className:{description:"Additional CSS classes",type:{name:"string"},required:!1},onPageChange:{description:"Called when page changes",type:{name:"func"},required:!1},onPageSizeChange:{description:"Called when page size changes",type:{name:"func"},required:!1}}};const Pagination_stories={title:"Navigation/Pagination",component:Navigation_Pagination,parameters:{layout:"centered",docs:{description:{component:"A versatile pagination component with multiple variants and features."}}},argTypes:{color:{control:"select",options:["primary","secondary","white"],description:"Color theme of the pagination"},variant:{control:"select",options:["default","pills","minimal"],description:"Visual style variant"},size:{control:"select",options:["small","medium","large"],description:"Size of the pagination buttons"}}},Default={args:{totalItems:100,itemsPerPage:10,currentPage:1,color:"primary"}},Pills={args:{totalItems:100,itemsPerPage:10,currentPage:1,variant:"pills",color:"primary"}},Minimal={args:{totalItems:100,itemsPerPage:10,currentPage:1,variant:"minimal",color:"primary"}},Sizes=()=>(0,jsx_runtime.jsxs)("div",{className:"space-y-8",children:[(0,jsx_runtime.jsx)(Navigation_Pagination,{totalItems:100,itemsPerPage:10,currentPage:1,size:"small",variant:"pills",color:"primary"}),(0,jsx_runtime.jsx)(Navigation_Pagination,{totalItems:100,itemsPerPage:10,currentPage:1,size:"medium",variant:"pills",color:"primary"}),(0,jsx_runtime.jsx)(Navigation_Pagination,{totalItems:100,itemsPerPage:10,currentPage:1,size:"large",variant:"pills",color:"primary"})]}),Colors=()=>(0,jsx_runtime.jsxs)("div",{className:"space-y-8",children:[(0,jsx_runtime.jsx)(Navigation_Pagination,{totalItems:100,itemsPerPage:10,currentPage:1,color:"primary",variant:"pills"}),(0,jsx_runtime.jsx)(Navigation_Pagination,{totalItems:100,itemsPerPage:10,currentPage:1,color:"secondary",variant:"pills"}),(0,jsx_runtime.jsx)(Navigation_Pagination,{totalItems:100,itemsPerPage:10,currentPage:1,color:"white",variant:"pills"})]}),ManyPages={args:{totalItems:250,itemsPerPage:10,currentPage:5,variant:"pills",color:"primary",siblingCount:2}},WithPageSize={args:{totalItems:100,itemsPerPage:10,currentPage:1,variant:"pills",color:"primary",showPageSize:!0,pageSizeOptions:[10,20,50,100]}},WithFirstLast={args:{totalItems:100,itemsPerPage:10,currentPage:1,variant:"pills",color:"primary",showFirstLast:!0}},WithItemsInfo={args:{totalItems:100,itemsPerPage:10,currentPage:1,variant:"pills",color:"primary",showItemsPerPage:!0}},Controlled=()=>{const[currentPage,setCurrentPage]=react.useState(1),[pageSize,setPageSize]=react.useState(10);return(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"text-center text-gray-600",children:["Page ",currentPage," | Items per page: ",pageSize]}),(0,jsx_runtime.jsx)(Navigation_Pagination,{totalItems:100,itemsPerPage:pageSize,currentPage,variant:"pills",color:"primary",showPageSize:!0,showItemsPerPage:!0,showFirstLast:!0,onPageChange:setCurrentPage,onPageSizeChange:setPageSize})]})},Responsive={args:{totalItems:200,itemsPerPage:10,currentPage:5,variant:"pills",color:"primary",showPageSize:!0,showItemsPerPage:!0,showFirstLast:!0},decorators:[Story=>(0,jsx_runtime.jsx)("div",{className:"w-full max-w-4xl mx-auto px-4",children:(0,jsx_runtime.jsx)(Story,{})})]};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    totalItems: 100,\n    itemsPerPage: 10,\n    currentPage: 1,\n    color: 'primary'\n  }\n}",...Default.parameters?.docs?.source}}},Pills.parameters={...Pills.parameters,docs:{...Pills.parameters?.docs,source:{originalSource:"{\n  args: {\n    totalItems: 100,\n    itemsPerPage: 10,\n    currentPage: 1,\n    variant: 'pills',\n    color: 'primary'\n  }\n}",...Pills.parameters?.docs?.source}}},Minimal.parameters={...Minimal.parameters,docs:{...Minimal.parameters?.docs,source:{originalSource:"{\n  args: {\n    totalItems: 100,\n    itemsPerPage: 10,\n    currentPage: 1,\n    variant: 'minimal',\n    color: 'primary'\n  }\n}",...Minimal.parameters?.docs?.source}}},Sizes.parameters={...Sizes.parameters,docs:{...Sizes.parameters?.docs,source:{originalSource:'() => <div className="space-y-8">\n    <Pagination totalItems={100} itemsPerPage={10} currentPage={1} size="small" variant="pills" color="primary" />\n    <Pagination totalItems={100} itemsPerPage={10} currentPage={1} size="medium" variant="pills" color="primary" />\n    <Pagination totalItems={100} itemsPerPage={10} currentPage={1} size="large" variant="pills" color="primary" />\n  </div>',...Sizes.parameters?.docs?.source}}},Colors.parameters={...Colors.parameters,docs:{...Colors.parameters?.docs,source:{originalSource:'() => <div className="space-y-8">\n    <Pagination totalItems={100} itemsPerPage={10} currentPage={1} color="primary" variant="pills" />\n    <Pagination totalItems={100} itemsPerPage={10} currentPage={1} color="secondary" variant="pills" />\n    <Pagination totalItems={100} itemsPerPage={10} currentPage={1} color="white" variant="pills" />\n  </div>',...Colors.parameters?.docs?.source}}},ManyPages.parameters={...ManyPages.parameters,docs:{...ManyPages.parameters?.docs,source:{originalSource:"{\n  args: {\n    totalItems: 250,\n    itemsPerPage: 10,\n    currentPage: 5,\n    variant: 'pills',\n    color: 'primary',\n    siblingCount: 2\n  }\n}",...ManyPages.parameters?.docs?.source}}},WithPageSize.parameters={...WithPageSize.parameters,docs:{...WithPageSize.parameters?.docs,source:{originalSource:"{\n  args: {\n    totalItems: 100,\n    itemsPerPage: 10,\n    currentPage: 1,\n    variant: 'pills',\n    color: 'primary',\n    showPageSize: true,\n    pageSizeOptions: [10, 20, 50, 100]\n  }\n}",...WithPageSize.parameters?.docs?.source}}},WithFirstLast.parameters={...WithFirstLast.parameters,docs:{...WithFirstLast.parameters?.docs,source:{originalSource:"{\n  args: {\n    totalItems: 100,\n    itemsPerPage: 10,\n    currentPage: 1,\n    variant: 'pills',\n    color: 'primary',\n    showFirstLast: true\n  }\n}",...WithFirstLast.parameters?.docs?.source}}},WithItemsInfo.parameters={...WithItemsInfo.parameters,docs:{...WithItemsInfo.parameters?.docs,source:{originalSource:"{\n  args: {\n    totalItems: 100,\n    itemsPerPage: 10,\n    currentPage: 1,\n    variant: 'pills',\n    color: 'primary',\n    showItemsPerPage: true\n  }\n}",...WithItemsInfo.parameters?.docs?.source}}},Controlled.parameters={...Controlled.parameters,docs:{...Controlled.parameters?.docs,source:{originalSource:'() => {\n  const [currentPage, setCurrentPage] = React.useState(1);\n  const [pageSize, setPageSize] = React.useState(10);\n  return <div className="space-y-4">\n      <div className="text-center text-gray-600">\n        Page {currentPage} | Items per page: {pageSize}\n      </div>\n      <Pagination totalItems={100} itemsPerPage={pageSize} currentPage={currentPage} variant="pills" color="primary" showPageSize showItemsPerPage showFirstLast onPageChange={setCurrentPage} onPageSizeChange={setPageSize} />\n    </div>;\n}',...Controlled.parameters?.docs?.source}}},Responsive.parameters={...Responsive.parameters,docs:{...Responsive.parameters?.docs,source:{originalSource:"{\n  args: {\n    totalItems: 200,\n    itemsPerPage: 10,\n    currentPage: 5,\n    variant: 'pills',\n    color: 'primary',\n    showPageSize: true,\n    showItemsPerPage: true,\n    showFirstLast: true\n  },\n  decorators: [Story => <div className=\"w-full max-w-4xl mx-auto px-4\">\n        <Story />\n      </div>]\n}",...Responsive.parameters?.docs?.source}}};const __namedExportsOrder=["Default","Pills","Minimal","Sizes","Colors","ManyPages","WithPageSize","WithFirstLast","WithItemsInfo","Controlled","Responsive"]},"./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>AnimatePresence});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),PresenceContext=__webpack_require__("./node_modules/framer-motion/dist/es/context/PresenceContext.mjs"),use_constant=__webpack_require__("./node_modules/framer-motion/dist/es/utils/use-constant.mjs"),MotionConfigContext=__webpack_require__("./node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs");class PopChildMeasure extends react.Component{getSnapshotBeforeUpdate(prevProps){const element=this.props.childRef.current;if(element&&prevProps.isPresent&&!this.props.isPresent){const size=this.props.sizeRef.current;size.height=element.offsetHeight||0,size.width=element.offsetWidth||0,size.top=element.offsetTop,size.left=element.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children,isPresent}){const id=(0,react.useId)(),ref=(0,react.useRef)(null),size=(0,react.useRef)({width:0,height:0,top:0,left:0}),{nonce}=(0,react.useContext)(MotionConfigContext.Q);return(0,react.useInsertionEffect)((()=>{const{width,height,top,left}=size.current;if(isPresent||!ref.current||!width||!height)return;ref.current.dataset.motionPopId=id;const style=document.createElement("style");return nonce&&(style.nonce=nonce),document.head.appendChild(style),style.sheet&&style.sheet.insertRule(`\n          [data-motion-pop-id="${id}"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            top: ${top}px !important;\n            left: ${left}px !important;\n          }\n        `),()=>{document.head.removeChild(style)}}),[isPresent]),(0,jsx_runtime.jsx)(PopChildMeasure,{isPresent,childRef:ref,sizeRef:size,children:react.cloneElement(children,{ref})})}const PresenceChild=({children,initial,isPresent,onExitComplete,custom,presenceAffectsLayout,mode})=>{const presenceChildren=(0,use_constant.M)(newChildrenMap),id=(0,react.useId)(),memoizedOnExitComplete=(0,react.useCallback)((childId=>{presenceChildren.set(childId,!0);for(const isComplete of presenceChildren.values())if(!isComplete)return;onExitComplete&&onExitComplete()}),[presenceChildren,onExitComplete]),context=(0,react.useMemo)((()=>({id,initial,isPresent,custom,onExitComplete:memoizedOnExitComplete,register:childId=>(presenceChildren.set(childId,!1),()=>presenceChildren.delete(childId))})),presenceAffectsLayout?[Math.random(),memoizedOnExitComplete]:[isPresent,memoizedOnExitComplete]);return(0,react.useMemo)((()=>{presenceChildren.forEach(((_,key)=>presenceChildren.set(key,!1)))}),[isPresent]),react.useEffect((()=>{!isPresent&&!presenceChildren.size&&onExitComplete&&onExitComplete()}),[isPresent]),"popLayout"===mode&&(children=(0,jsx_runtime.jsx)(PopChild,{isPresent,children})),(0,jsx_runtime.jsx)(PresenceContext.t.Provider,{value:context,children})};function newChildrenMap(){return new Map}var LayoutGroupContext=__webpack_require__("./node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs"),errors=__webpack_require__("./node_modules/motion-utils/dist/es/errors.mjs");const getChildKey=child=>child.key||"";function onlyElements(children){const filtered=[];return react.Children.forEach(children,(child=>{(0,react.isValidElement)(child)&&filtered.push(child)})),filtered}var use_isomorphic_effect=__webpack_require__("./node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs");const AnimatePresence=({children,exitBeforeEnter,custom,initial=!0,onExitComplete,presenceAffectsLayout=!0,mode="sync"})=>{(0,errors.V)(!exitBeforeEnter,"Replace exitBeforeEnter with mode='wait'");const presentChildren=(0,react.useMemo)((()=>onlyElements(children)),[children]),presentKeys=presentChildren.map(getChildKey),isInitialRender=(0,react.useRef)(!0),pendingPresentChildren=(0,react.useRef)(presentChildren),exitComplete=(0,use_constant.M)((()=>new Map)),[diffedChildren,setDiffedChildren]=(0,react.useState)(presentChildren),[renderedChildren,setRenderedChildren]=(0,react.useState)(presentChildren);(0,use_isomorphic_effect.E)((()=>{isInitialRender.current=!1,pendingPresentChildren.current=presentChildren;for(let i=0;i<renderedChildren.length;i++){const key=getChildKey(renderedChildren[i]);presentKeys.includes(key)?exitComplete.delete(key):!0!==exitComplete.get(key)&&exitComplete.set(key,!1)}}),[renderedChildren,presentKeys.length,presentKeys.join("-")]);const exitingChildren=[];if(presentChildren!==diffedChildren){let nextChildren=[...presentChildren];for(let i=0;i<renderedChildren.length;i++){const child=renderedChildren[i],key=getChildKey(child);presentKeys.includes(key)||(nextChildren.splice(i,0,child),exitingChildren.push(child))}return"wait"===mode&&exitingChildren.length&&(nextChildren=exitingChildren),setRenderedChildren(onlyElements(nextChildren)),void setDiffedChildren(presentChildren)}const{forceRender}=(0,react.useContext)(LayoutGroupContext.L);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:renderedChildren.map((child=>{const key=getChildKey(child),isPresent=presentChildren===renderedChildren||presentKeys.includes(key);return(0,jsx_runtime.jsx)(PresenceChild,{isPresent,initial:!(isInitialRender.current&&!initial)&&void 0,custom:isPresent?void 0:custom,presenceAffectsLayout,mode,onExitComplete:isPresent?void 0:()=>{if(!exitComplete.has(key))return;exitComplete.set(key,!0);let isEveryExitComplete=!0;exitComplete.forEach((isExitComplete=>{isExitComplete||(isEveryExitComplete=!1)})),isEveryExitComplete&&(null==forceRender||forceRender(),setRenderedChildren(pendingPresentChildren.current),onExitComplete&&onExitComplete())},children:child},key)}))})}}}]);